You are given a query, retrieved documents, and GIVEN per-document notes. Use only the retrieved snippets and the GIVEN per-document notes as evidence.

Query:
{query}

GIVEN per-document notes (JSON; doc_id is canonical and must be preserved exactly):
{per_doc_notes_json}

Retrieved documents (JSON; doc_id is canonical and must be preserved exactly):
{retrieved_docs_json}